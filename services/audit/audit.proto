syntax = "proto3";

package audit;
option go_package = "./audit";


service Audit {
  // CreateAuditLog 创建审计日志
  rpc CreateAuditLog(CreateAuditLogReq) returns (CreateAuditLogRes);

}
// 创建审计日志请求
message CreateAuditLogReq {
  uint32 user_id = 1;            // 执行操作的用户ID
  string username = 2;          // 执行操作的用户名
  string action_type = 3;       // 操作类型（新增、修改、删除等）
  string action_description = 4;
  string target_table = 5;       // 目标类型（如：商品、订单等）
  int64 target_id = 6;          // 目标对象的ID（如商品ID、订单ID等）
  string old_data = 7;          // 操作前的数据（JSON格式）
  string new_data = 8;          // 操作后的数据（JSON格式）
  int64 create_at = 9;
  string client_ip = 10;
  //  string ip_address = 9;        // 用户IP地址
  //  string trace_id = 10;
  //  string span_id = 11;
}

// 创建审计日志响应
message CreateAuditLogRes {
  uint32 status_code = 1;
  string status_msg = 2;
  bool ok = 3;               // 审计日志的ID
}